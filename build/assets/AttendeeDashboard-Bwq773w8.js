import{c as te,r as a,j as e,B as r,C as n,a as o,e as m,g as i,f as g,b,v as p,w as Y,x as W,y as Z,z as K,A as Ne,G as ye}from"./index-DTnNYmHn.js";import{T as ve,a as be,b as f,c as N}from"./tabs-BcrIWafy.js";import{L as d,I as c}from"./label-DWZUzxT-.js";import{S as we,b as Se,c as Ce,d as ke,e as X}from"./select-DPwNyVyn.js";import{T as ee,C as Te}from"./calendar-BHflLpum.js";import{S as A}from"./switch-Dw8uZZy6.js";import{T as w}from"./ticket-CW1_par5.js";import{C as se}from"./calendar-Ci41ZGCt.js";import{S as Ie}from"./shield-CPZYcIi4.js";import{C as _e}from"./clock-DPJgR4T2.js";import{M as De}from"./map-pin-BOD4cWHv.js";import{Q as Oe}from"./qr-code-C2fBmOKA.js";import{D as Ae}from"./download-DNLbUXH9.js";import{T as Be}from"./trending-up-2doYytqY.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]],Pe=te("share",Je);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],B=te("trophy",Re);function Xe({onPurchaseTicket:S,onSetDisplayName:J,displayName:ae,onBack:$e}){const[y,Fe]=a.useState(ae||""),[h,P]=a.useState([]),[j,R]=a.useState([]),[re,le]=a.useState(!1),[ne,C]=a.useState(!1),[k,T]=a.useState("pre"),[ie,ce]=a.useState(""),[de,I]=a.useState(!1),[$,F]=a.useState(0),[H,oe]=a.useState(10),[M,z]=a.useState(null),[_,E]=a.useState(""),[v,L]=a.useState(void 0),[D,U]=a.useState([]),[O,Q]=a.useState(""),[V,G]=a.useState([]);a.useEffect(()=>{try{const s=JSON.parse(localStorage.getItem("gatepass_user_tickets")||"[]");P(Array.isArray(s)?s:[])}catch{P([])}try{const s=JSON.parse(localStorage.getItem("gatepass_poa_badges")||"[]");R(Array.isArray(s)?s:[])}catch{R([])}try{const s=JSON.parse(localStorage.getItem("gatepass_feed_posts")||"[]");U(Array.isArray(s)?s:[])}catch{}try{const s=JSON.parse(localStorage.getItem("gatepass_friends_attending")||"[]");G(Array.isArray(s)?s:[])}catch{}},[]),a.useEffect(()=>{J&&J(y)},[y]);const q=a.useMemo(()=>h.filter(s=>s.status==="confirmed"),[h]),me=a.useMemo(()=>h.filter(s=>s.status==="attended"),[h]),xe=s=>{const t=(s.ticketType||"").toLowerCase();return t.includes("vip")?"from-[#1f2937] to-[#111827]":t.includes("general")?"from-[#0f766e] to-[#064e3b]":"from-[#1c1917] to-[#0b0b0b]"},he=s=>{try{const l=new Date(s.date).getTime()-Date.now(),x=Math.ceil(l/(1e3*60*60*24));return x>0?`${x}d`:"Today"}catch{return""}},ge=s=>{p.success("QR ready")},pe=s=>{try{const t=`Ticket ${s.id} - ${s.eventTitle}
Seat ${s.seatNumber}
Price $${s.price}`,l=new Blob([t],{type:"text/plain"}),x=URL.createObjectURL(l),u=document.createElement("a");u.href=x,u.download=`ticket-${s.id}.txt`,u.click(),URL.revokeObjectURL(x)}catch{p.error("Download failed")}},ue=s=>{p.success("Transfer initiated")},je=s=>{z(s),C(!0)},fe=()=>{p.success("Help submitted"),C(!1)};return e.jsx("div",{className:"min-h-screen bg-background p-6 scroll-container",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Attendee Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your events and track tickets"})]}),e.jsx(r,{onClick:()=>S("browse"),className:"hidden sm:flex items-center space-x-2",children:e.jsx("span",{children:"Browse Events"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs(n,{children:[e.jsxs(o,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(m,{className:"text-sm font-medium",children:"Active Tickets"}),e.jsx(w,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(i,{children:[e.jsx("div",{className:"text-2xl font-bold",children:q.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Upcoming events"})]})]}),e.jsxs(n,{children:[e.jsxs(o,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(m,{className:"text-sm font-medium",children:"Events Attended"}),e.jsx(se,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(i,{children:[e.jsx("div",{className:"text-2xl font-bold",children:me.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Past events"})]})]}),e.jsxs(n,{children:[e.jsxs(o,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(m,{className:"text-sm font-medium",children:"POA Badges"}),e.jsx(B,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(i,{children:[e.jsx("div",{className:"text-2xl font-bold",children:j.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Collected badges"})]})]}),e.jsxs(n,{children:[e.jsxs(o,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(m,{className:"text-sm font-medium",children:"Total Spent"}),e.jsx(Ie,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(i,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:["$",h.reduce((s,t)=>s+t.price,0)]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"All time"})]})]})]}),e.jsxs(ve,{defaultValue:"tickets",className:"w-full",children:[e.jsx("div",{className:"border-b mb-4",children:e.jsxs(be,{className:"w-full sm:w-auto flex",children:[e.jsx(f,{value:"tickets",className:"flex-1 sm:flex-none",children:"My Tickets"}),e.jsx(f,{value:"badges",className:"flex-1 sm:flex-none",children:"POA Badges"}),e.jsx(f,{value:"history",className:"flex-1 sm:flex-none",children:"History"}),e.jsx(f,{value:"gigs",className:"flex-1 sm:flex-none",children:"Gigs"}),e.jsx(f,{value:"community",className:"flex-1 sm:flex-none",children:"Community"})]})}),e.jsxs(N,{value:"tickets",className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 sm:gap-6",children:h.filter(s=>s.status==="confirmed").map(s=>e.jsxs(n,{className:"flex flex-col",children:[e.jsxs("div",{className:`aspect-video bg-gradient-to-br ${xe(s)} relative overflow-hidden`,children:[e.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"linear-gradient(120deg, rgba(255,255,255,0.0) 0%, rgba(255,255,255,0.6) 20%, rgba(255,255,255,0.0) 40%)",backgroundSize:"200% 100%",animation:"shine 6s linear infinite"}}),e.jsx("style",{children:"@keyframes shine { 0%{background-position:-200% 0} 100%{background-position:200% 0} }"}),e.jsx(w,{className:"absolute left-4 top-4 h-10 w-10 text-white/50"}),e.jsx("div",{className:"absolute right-3 top-3 text-xs bg-black/30 text-white px-2 py-1 rounded",children:he(s)}),e.jsxs("div",{className:"absolute bottom-3 right-3 bg-black/20 backdrop-blur-sm px-2 py-1 rounded text-[10px] text-white",children:["#",s.id]}),e.jsx("a",{href:`https://www.google.com/maps/search/?q=${encodeURIComponent(s.venue)}`,target:"_blank",rel:"noreferrer",className:"absolute bottom-3 left-3 bg-black/30 text-white text-[11px] px-2 py-1 rounded",children:"Map"})]}),e.jsx(o,{className:"flex-none pb-3",children:e.jsxs("div",{className:"flex justify-between items-start gap-4",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx(m,{className:"text-lg truncate",children:s.eventTitle}),e.jsx(g,{className:"truncate",children:s.organizer})]}),e.jsx(b,{variant:"outline",className:"flex-none",children:s.ticketType})]})}),e.jsxs(i,{className:"space-y-4 flex-1",children:[e.jsxs("div",{className:"grid gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(se,{className:"h-4 w-4 flex-none text-muted-foreground"}),e.jsx("span",{className:"truncate",children:s.date})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"h-4 w-4 flex-none text-muted-foreground"}),e.jsx("span",{className:"truncate",children:s.time})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"h-4 w-4 flex-none text-muted-foreground"}),e.jsx("span",{className:"truncate",children:s.venue})]})]}),e.jsxs("div",{className:"flex justify-between items-center py-3 border-y",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Seat"}),e.jsx("p",{className:"font-medium",children:s.seatNumber})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Price"}),e.jsxs("p",{className:"font-medium",children:["$",s.price]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-2",children:[e.jsxs(r,{variant:"outline",size:"sm",className:"w-full flex items-center justify-center space-x-1",onClick:()=>ge(),children:[e.jsx(Oe,{className:"h-3 w-3"}),e.jsx("span",{children:"QR Code"})]}),e.jsxs(r,{variant:"outline",size:"sm",className:"w-full flex items-center justify-center space-x-1",onClick:()=>pe(s),children:[e.jsx(Ae,{className:"h-3 w-3"}),e.jsx("span",{children:"Download"})]}),s.transferable&&e.jsxs(r,{variant:"outline",size:"sm",className:"w-full flex items-center justify-center space-x-1",onClick:()=>ue(),children:[e.jsx(Pe,{className:"h-3 w-3"}),e.jsx("span",{children:"Transfer"})]}),e.jsxs(r,{variant:"outline",size:"sm",className:"w-full flex items-center justify-center space-x-1",onClick:()=>{z(s),F(s.price),I(!0)},children:[e.jsx(Be,{className:"h-3 w-3"}),e.jsx("span",{children:"Resale"})]}),e.jsx(r,{variant:"outline",size:"sm",className:"w-full flex items-center justify-center",onClick:()=>je(s),children:"Need Help?"})]}),e.jsxs("div",{className:"flex items-center justify-end mt-2 gap-2",children:[e.jsx(A,{checked:re,onCheckedChange:le}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Blur sensitive details for sharing"})]}),e.jsx("div",{className:"text-xs text-muted-foreground break-words",children:e.jsxs("p",{children:["Transaction: ",s.transactionHash]})})]})]},s.id))}),q.length===0&&e.jsx(n,{children:e.jsxs(i,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(w,{className:"h-16 w-16 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Active Tickets"}),e.jsx("p",{className:"text-muted-foreground mb-4 text-center",children:"You don't have any upcoming events. Browse events to find something interesting!"}),e.jsx(r,{onClick:()=>S("browse"),children:"Browse Events"})]})})]}),e.jsxs(N,{value:"gigs",className:"space-y-6",children:[e.jsxs(n,{children:[e.jsxs(o,{children:[e.jsx(m,{children:"GatePass Gigs — Work Any Event"}),e.jsx(g,{children:"Build your profile and apply to gigs"})]}),e.jsx(i,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{children:"Skills"}),e.jsx(c,{placeholder:"Security, photography, stage crew",onBlur:s=>{const t={skills:s.target.value.split(",").map(l=>l.trim()).filter(Boolean)};try{localStorage.setItem("gatepass_profile",JSON.stringify(t))}catch{}}}),e.jsx(d,{children:"Certifications"}),e.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-4 text-center",children:[e.jsx("input",{id:"cert-upload",type:"file",multiple:!0,className:"hidden"}),e.jsx("label",{htmlFor:"cert-upload",children:e.jsx(r,{variant:"outline",size:"sm",children:"Upload Licenses"})})]}),e.jsx(d,{children:"Portfolio"}),e.jsx(ee,{placeholder:"Describe past event work",onBlur:s=>{try{const t=JSON.parse(localStorage.getItem("gatepass_profile")||"{}");t.portfolio=s.target.value,localStorage.setItem("gatepass_profile",JSON.stringify(t))}catch{}}}),e.jsx(d,{children:"Hourly Rate"}),e.jsx(c,{type:"number",placeholder:"$25",onBlur:s=>{try{const t=JSON.parse(localStorage.getItem("gatepass_profile")||"{}");t.rate=s.target.value,localStorage.setItem("gatepass_profile",JSON.stringify(t))}catch{}}}),e.jsx(d,{children:"ID Document"}),e.jsx(c,{type:"file"}),e.jsx(d,{children:"Selfie"}),e.jsx(c,{type:"file",accept:"image/*"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{onCheckedChange:s=>{try{const t=JSON.parse(localStorage.getItem("gatepass_profile")||"{}");t.verified=!!s,localStorage.setItem("gatepass_profile",JSON.stringify(t))}catch{}}}),e.jsx("span",{className:"text-sm",children:"Background Checked"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{children:"Availability"}),e.jsx(Te,{mode:"single",className:"rounded-md border"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{defaultChecked:!0}),e.jsx("span",{className:"text-sm",children:"Instant Match enabled"})]})]})]})})]}),e.jsxs(n,{children:[e.jsxs(o,{children:[e.jsx(m,{children:"Job Board"}),e.jsx(g,{children:"Filter by event type, location, date, pay range"})]}),e.jsxs(i,{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[e.jsx(c,{placeholder:"Event type",id:"gig-type"}),e.jsx(c,{placeholder:"Location",id:"gig-location"}),e.jsx(c,{placeholder:"Date",id:"gig-date"}),e.jsx(c,{placeholder:"Min pay",id:"gig-pay"})]}),e.jsxs("div",{className:"space-y-2",children:[(()=>{try{return JSON.parse(localStorage.getItem("gatepass_gigs")||"[]")}catch{return[]}})().map(s=>e.jsxs("div",{className:"border rounded-lg p-3 flex items-center justify-between",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsxs("p",{className:"font-medium truncate",children:[s.role," • ",s.event]}),e.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:[s.location," • ",s.date," • $",s.pay,"/hr"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(r,{size:"sm",onClick:()=>{try{const t=JSON.parse(localStorage.getItem("gatepass_applications")||"[]");t.unshift({id:`app-${Date.now()}`,gigId:s.id,status:"applied"}),localStorage.setItem("gatepass_applications",JSON.stringify(t)),p.success("Quick applied")}catch{}},children:"Quick Apply"}),e.jsx(r,{size:"sm",variant:"outline",children:"Details"})]})]},s.id)),(()=>{try{return JSON.parse(localStorage.getItem("gatepass_gigs")||"[]").length===0}catch{return!0}})()&&e.jsx("p",{className:"text-sm text-muted-foreground",children:"No gigs posted yet"})]})]})]})]}),e.jsxs(N,{value:"community",className:"space-y-6",children:[e.jsxs(n,{children:[e.jsxs(o,{children:[e.jsx(m,{children:"Event Feed"}),e.jsx(g,{children:"Organizer updates and attendee stories"})]}),e.jsx(i,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{children:"Post Text"}),e.jsx(c,{value:_,onChange:s=>E(s.target.value),placeholder:"Share an update..."}),e.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-4 text-center",children:[v?e.jsx("img",{src:v,alt:"Post",className:"max-h-40 mx-auto rounded"}):null,e.jsx("input",{id:"feed-image",type:"file",accept:"image/*",className:"hidden",onChange:s=>{const t=s.target.files?.[0];if(!t)return;const l=new FileReader;l.onload=()=>L(String(l.result)),l.readAsDataURL(t)}}),e.jsx("label",{htmlFor:"feed-image",children:e.jsx(r,{asChild:!0,variant:"outline",size:"sm",children:e.jsx("span",{children:"Upload Image"})})})]}),e.jsx(r,{onClick:()=>{if(!_.trim()&&!v)return;const t=[{id:`post-${Date.now()}`,text:_.trim(),image:v,author:y||"Attendee",createdAt:new Date().toISOString()},...D];U(t);try{localStorage.setItem("gatepass_feed_posts",JSON.stringify(t))}catch{}E(""),L(void 0)},children:"Post"})]}),e.jsxs("div",{className:"space-y-3",children:[D.length===0&&e.jsx("p",{className:"text-sm text-muted-foreground",children:"No posts yet"}),D.map(s=>e.jsxs("div",{className:"border rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"font-medium",children:s.author}),e.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(s.createdAt).toLocaleString()})]}),s.text&&e.jsx("p",{className:"text-sm mt-1",children:s.text}),s.image&&e.jsx("img",{src:s.image,alt:"Post",className:"mt-2 rounded"})]},s.id))]})]})})]}),e.jsxs(n,{children:[e.jsxs(o,{children:[e.jsx(m,{children:"Attendee Chat"}),e.jsx(g,{children:"Connect before and during the event"})]}),e.jsxs(i,{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[e.jsx(c,{id:"chat-msg",placeholder:"Say hi..."}),e.jsx(r,{onClick:()=>{const s=document.getElementById("chat-msg"),t=(s?.value||"").trim();if(t)try{const l=JSON.parse(localStorage.getItem("gatepass_chat_messages")||"[]");l.unshift({id:`msg-${Date.now()}`,author:y||"Attendee",text:t,at:new Date().toISOString()}),localStorage.setItem("gatepass_chat_messages",JSON.stringify(l)),s.value=""}catch{}},children:"Send"})]}),e.jsxs("div",{className:"space-y-2",children:[(()=>{try{return JSON.parse(localStorage.getItem("gatepass_chat_messages")||"[]")}catch{return[]}})().map(s=>e.jsxs("div",{className:"border rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"font-medium",children:s.author}),e.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(s.at).toLocaleTimeString()})]}),e.jsx("p",{className:"text-sm mt-1 break-words",children:s.text})]},s.id)),(()=>{try{return JSON.parse(localStorage.getItem("gatepass_chat_messages")||"[]").length===0}catch{return!0}})()&&e.jsx("p",{className:"text-sm text-muted-foreground",children:"No messages yet"})]})]})]}),e.jsxs(n,{children:[e.jsxs(o,{children:[e.jsx(m,{children:"Friends Attending"}),e.jsx(g,{children:"Invite friends and see who’s going"})]}),e.jsxs(i,{className:"space-y-3",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{placeholder:"Friend name",value:O,onChange:s=>Q(s.target.value)}),e.jsx(r,{onClick:()=>{if(!O.trim())return;const s=[...V,O.trim()];G(s),Q("");try{localStorage.setItem("gatepass_friends_attending",JSON.stringify(s))}catch{}},children:"Add"})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:V.map((s,t)=>e.jsx(b,{variant:"secondary",children:s},t))})]})]})]}),e.jsxs(N,{value:"badges",className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{children:"Sort by"}),e.jsxs(we,{defaultValue:"rarity",onValueChange:s=>{const t=[...j].sort((l,x)=>{if(s==="rarity"){const u={Rare:0,Common:1};return(u[l.rarity]||9)-(u[x.rarity]||9)}return s==="date"?new Date(x.date).getTime()-new Date(l.date).getTime():0});window.__setBadges&&window.__setBadges(t)},children:[e.jsx(Se,{className:"w-[160px]",children:e.jsx(Ce,{placeholder:"rarity"})}),e.jsxs(ke,{children:[e.jsx(X,{value:"rarity",children:"Rarity"}),e.jsx(X,{value:"date",children:"Date"})]})]})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total badges: ",j.length]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:j.map(s=>e.jsxs(n,{className:"flex flex-col",children:[e.jsxs(o,{className:"text-center pb-3",children:[e.jsxs("div",{className:"w-20 h-20 sm:w-24 sm:h-24 mx-auto bg-gradient-to-br from-primary/20 to-secondary/20 rounded-full flex items-center justify-center mb-4 relative overflow-hidden",children:[e.jsx(B,{className:"h-10 w-10 sm:h-12 sm:w-12 text-primary"}),s.rarity==="Rare"&&e.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"linear-gradient(120deg, rgba(255,255,255,0.0) 0%, rgba(255,255,255,0.6) 20%, rgba(255,255,255,0.0) 40%)",backgroundSize:"200% 100%",animation:"shine 5s linear infinite"}}),e.jsx("style",{children:"@keyframes shine { 0%{background-position:-200% 0} 100%{background-position:200% 0} }"})]}),e.jsx(m,{className:"text-lg truncate",children:s.eventTitle}),e.jsx(g,{className:"truncate",children:s.date})]}),e.jsxs(i,{className:"text-center flex-1 flex flex-col justify-between gap-3",children:[e.jsx(b,{variant:s.rarity==="Rare"?"default":"secondary",className:"w-fit mx-auto",children:s.rarity}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.description})]})]},s.id))}),j.length===0&&e.jsx(n,{children:e.jsxs(i,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(B,{className:"h-16 w-16 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Badges Yet"}),e.jsx("p",{className:"text-muted-foreground mb-4 text-center",children:"Attend events to collect Proof of Attendance badges!"}),e.jsx(r,{onClick:()=>S("browse"),children:"Find Events"})]})})]}),e.jsx(N,{value:"history",className:"space-y-4",children:e.jsx("div",{className:"grid gap-4",children:h.map(s=>e.jsx(n,{children:e.jsxs(i,{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between p-4 sm:p-6 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4 min-w-0 flex-1",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary/20 to-secondary/20 rounded-lg flex items-center justify-center flex-none",children:e.jsx(w,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h4",{className:"font-semibold truncate",children:s.eventTitle}),e.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:[s.date," • ",s.venue]})]})]}),e.jsxs("div",{className:"flex items-center justify-between sm:flex-col sm:items-end gap-2 w-full sm:w-auto",children:[e.jsx(b,{variant:s.status==="attended"?"default":"secondary",className:"flex-none",children:s.status}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["$",s.price]})]})]})},s.id))})})]}),e.jsx(Y,{open:ne,onOpenChange:C,children:e.jsxs(W,{children:[e.jsx(Z,{children:e.jsx(K,{children:"Need Help?"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(r,{variant:k==="pre"?"default":"outline",size:"sm",onClick:()=>T("pre"),children:"Pre-Event"}),e.jsx(r,{variant:k==="during"?"default":"outline",size:"sm",onClick:()=>T("during"),children:"During Event"}),e.jsx(r,{variant:k==="post"?"default":"outline",size:"sm",onClick:()=>T("post"),children:"Post-Event"})]}),e.jsxs("div",{children:[e.jsx(d,{children:"Describe your issue"}),e.jsx(ee,{value:ie,onChange:s=>ce(s.target.value),placeholder:"How can we assist?",className:"mt-2"})]})]}),e.jsx(Ne,{children:e.jsx(r,{onClick:fe,children:"Submit"})})]})}),e.jsx(Y,{open:de,onOpenChange:I,children:e.jsxs(W,{children:[e.jsxs(Z,{children:[e.jsx(K,{children:"Resale Listing"}),e.jsx(ye,{children:"Set price and fee split"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(d,{children:"Price"}),e.jsx(c,{type:"number",value:$,onChange:s=>F(Number(s.target.value||0))})]}),e.jsxs("div",{children:[e.jsx(d,{children:"Platform Fee (%)"}),e.jsx(c,{type:"number",value:H,onChange:s=>oe(Number(s.target.value||0))})]}),e.jsx(r,{onClick:()=>{try{const s=JSON.parse(localStorage.getItem("gatepass_resale_listings")||"[]"),t=Array.isArray(s)?s:[];t.unshift({id:`resale-${Date.now()}`,ticketId:M?.ticketId,event:M?.eventTitle,price:$,feePct:H}),localStorage.setItem("gatepass_resale_listings",JSON.stringify(t)),p.success("Listed for resale"),I(!1)}catch{p.error("Failed to save")}},children:"List"})]})]})})]})})}export{Xe as AttendeeDashboard};
