import{r as S,S as O,h as g,R as l,k as y,j as b,s as A}from"./index-DvdqrpFL.js";function _(e){const t=S.useRef({value:e,previous:e});return S.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function D(e){const[t,d]=S.useState(void 0);return O(()=>{if(e){d({width:e.offsetWidth,height:e.offsetHeight});const x=new ResizeObserver(p=>{if(!Array.isArray(p)||!p.length)return;const u=p[0];let f,s;if("borderBoxSize"in u){const C=u.borderBoxSize,m=Array.isArray(C)?C[0]:C;f=m.inlineSize,s=m.blockSize}else f=e.offsetWidth,s=e.offsetHeight;d({width:f,height:s})});return x.observe(e,{box:"border-box"}),()=>x.unobserve(e)}else d(void 0)},[e]),t}function P(e){const t=e+"CollectionProvider",[d,x]=g(t),[p,u]=d(t,{collectionRef:{current:null},itemMap:new Map}),f=c=>{const{scope:o,children:a}=c,r=l.useRef(null),n=l.useRef(new Map).current;return b.jsx(p,{scope:o,itemMap:n,collectionRef:r,children:a})};f.displayName=t;const s=e+"CollectionSlot",C=A(s),m=l.forwardRef((c,o)=>{const{scope:a,children:r}=c,n=u(s,a),i=y(o,n.collectionRef);return b.jsx(C,{ref:i,children:r})});m.displayName=s;const v=e+"CollectionItemSlot",h="data-radix-collection-item",E=A(v),I=l.forwardRef((c,o)=>{const{scope:a,children:r,...n}=c,i=l.useRef(null),M=y(o,i),R=u(v,a);return l.useEffect(()=>(R.itemMap.set(i,{ref:i,...n}),()=>void R.itemMap.delete(i))),b.jsx(E,{[h]:"",ref:M,children:r})});I.displayName=v;function z(c){const o=u(e+"CollectionConsumer",c);return l.useCallback(()=>{const r=o.collectionRef.current;if(!r)return[];const n=Array.from(r.querySelectorAll(`[${h}]`));return Array.from(o.itemMap.values()).sort((R,N)=>n.indexOf(R.ref.current)-n.indexOf(N.ref.current))},[o.collectionRef,o.itemMap])}return[{Provider:f,Slot:m,ItemSlot:I},z,x]}var T=S.createContext(void 0);function j(e){const t=S.useContext(T);return e||t||"ltr"}export{D as a,j as b,P as c,_ as u};
