import{c as E,R as t,j as e,B as a,C as l,a as d,e as o,g as r,f as h,b as y,v as p,w as z,x as H,y as A,z as I,G as ee,H as se}from"./index-DvdqrpFL.js";import{L as i,I as n}from"./label-x0QtSfq_.js";import{T as ae,a as te,b as j,c as u}from"./tabs-DhxU4bmi.js";import{S as b}from"./switch-X7y7Ooe4.js";import{T as B,C as le}from"./calendar-CEJ0Lykg.js";import{T as w}from"./ticket-BC-FGhCl.js";import{C as R}from"./calendar-BXrtHmHt.js";import{C as re}from"./clock-BYHCebaK.js";import{M as ne}from"./map-pin-MllDBAsa.js";import{Q as ie}from"./qr-code--xcjoiBc.js";import{D as ce}from"./download-e3n3HFae.js";import{T as de}from"./trending-up-Dvcc9aQ7.js";import"./index-Cu9qe0MP.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]],xe=E("share",oe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],O=E("trophy",me),$=[{id:"t-100",eventTitle:"Conference 2024",organizer:"GatePass",ticketType:"VIP",date:"2024-03-15",time:"09:00",venue:"Convention Center, SF",status:"confirmed",price:150,seatNumber:"A12",transferable:!0},{id:"t-101",eventTitle:"Festival Summer",organizer:"GatePass",ticketType:"General",date:"2024-06-20",time:"18:00",venue:"Golden Gate Park",status:"attended",price:120}];function he(){try{const x=JSON.parse(localStorage.getItem("gatepass_tickets")||"[]");return Array.isArray(x)&&x.length?x:$}catch{return $}}function pe(x){try{const g=new Date(x.date).getTime()-Date.now(),c=Math.ceil(g/(1e3*60*60*24));return c<=0?"today":`${c}d left`}catch{return"soon"}}function je(x){return"from-neutral-800 to-neutral-700"}function Me({onPurchaseTicket:x,displayName:F,onBack:g}){const[c]=t.useState(he()),C=t.useMemo(()=>c.filter(s=>s.status==="confirmed"),[c]),L=t.useMemo(()=>c.filter(s=>s.status==="attended"),[c]),k=t.useMemo(()=>[{id:"b1",eventTitle:"Conference 2024",date:"2024-03-15",rarity:"Common",description:"Checked in"}],[]),[G,_]=t.useState(!1),[T,Q]=t.useState(null),[U,f]=t.useState(!1),[S,D]=t.useState(0),[M,V]=t.useState(10),[q,P]=t.useState(!1),[N,v]=t.useState("pre"),[J,W]=t.useState(""),Z=()=>{p.success("Support request submitted"),P(!1)},K=s=>p.info(`QR for ${s.eventTitle}`),X=s=>p.success(`Downloading ${s.eventTitle}`),Y=s=>p.info(`Transfer ${s.eventTitle}`);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"My Tickets"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your event tickets and badges"})]}),e.jsx(a,{onClick:()=>x("browse"),variant:"secondary",size:"sm",className:"hidden md:inline-flex",children:"Browse Events"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(l,{children:[e.jsxs(d,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(o,{className:"text-sm font-medium",children:"Active Tickets"}),e.jsx(w,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(r,{children:[e.jsx("div",{className:"text-2xl font-bold",children:C.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Upcoming events"})]})]}),e.jsxs(l,{children:[e.jsxs(d,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(o,{className:"text-sm font-medium",children:"Events Attended"}),e.jsx(R,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(r,{children:[e.jsx("div",{className:"text-2xl font-bold",children:L.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Past events"})]})]}),e.jsxs(l,{children:[e.jsxs(d,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(o,{className:"text-sm font-medium",children:"POA Badges"}),e.jsx(O,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(r,{children:[e.jsx("div",{className:"text-2xl font-bold",children:k.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Collected badges"})]})]}),e.jsxs(l,{children:[e.jsx(d,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:e.jsx(o,{className:"text-sm font-medium",children:"Total Spent"})}),e.jsxs(r,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:["$",c.reduce((s,m)=>s+m.price,0)]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"All time"})]})]})]}),e.jsxs(ae,{defaultValue:"tickets",className:"w-full",children:[e.jsx("div",{className:"border-b mb-4",children:e.jsxs(te,{className:"w-full sm:w-auto flex",children:[e.jsx(j,{value:"tickets",className:"flex-1 sm:flex-none",children:"My Tickets"}),e.jsx(j,{value:"badges",className:"flex-1 sm:flex-none",children:"POA Badges"}),e.jsx(j,{value:"history",className:"flex-1 sm:flex-none",children:"History"}),e.jsx(j,{value:"gigs",className:"flex-1 sm:flex-none",children:"Gigs"}),e.jsx(j,{value:"community",className:"flex-1 sm:flex-none",children:"Community"})]})}),e.jsxs(u,{value:"tickets",className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 sm:gap-6",children:c.filter(s=>s.status==="confirmed").map((s,m)=>e.jsxs(l,{className:"flex flex-col",children:[e.jsxs("div",{className:`aspect-video bg-gradient-to-br ${je()} relative overflow-hidden`,children:[e.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"linear-gradient(120deg, rgba(255,255,255,0.0) 0%, rgba(255,255,255,0.6) 20%, rgba(255,255,255,0.0) 40%)",backgroundSize:"200% 100%",animation:"shine 6s linear infinite"}}),e.jsx("style",{children:"@keyframes shine { 0%{background-position:-200% 0} 100%{background-position:200% 0} }"}),m===0&&e.jsx("button",{className:"absolute left-3 top-3 bg-black/40 text-white rounded-full p-1.5 hover:bg-black/60 transition",onClick:()=>{g?g():window.history.back()},"aria-label":"Go back",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M15 18l-6-6 6-6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),e.jsx("div",{className:"absolute right-3 top-3 text-xs bg-black/30 text-white px-2 py-1 rounded",children:pe(s)}),e.jsxs("div",{className:"absolute bottom-3 right-3 bg-black/20 backdrop-blur-sm px-2 py-1 rounded text-[10px] text-white",children:["#",s.id]}),e.jsx("a",{href:`https://www.google.com/maps/search/?q=${encodeURIComponent(s.venue)}`,target:"_blank",rel:"noreferrer",className:"absolute bottom-3 left-3 bg-black/30 text-white text-[11px] px-2 py-1 rounded",children:"Map"})]}),e.jsx(d,{className:"flex-none pb-3",children:e.jsxs("div",{className:"flex justify-between items-start gap-4",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx(o,{className:"text-lg truncate",children:s.eventTitle}),e.jsx(h,{className:"truncate",children:s.organizer})]}),e.jsx(y,{variant:"outline",className:"flex-none",children:s.ticketType})]})}),e.jsxs(r,{className:"space-y-4 flex-1",children:[e.jsxs("div",{className:"grid gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(R,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:s.date})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:s.time})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ne,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"truncate",children:s.venue})]})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-2",children:[e.jsxs(a,{variant:"outline",size:"sm",className:"w-full flex items-center justify-center space-x-1",onClick:()=>K(s),children:[e.jsx(ie,{className:"h-3 w-3"}),e.jsx("span",{children:"QR Code"})]}),e.jsxs(a,{variant:"outline",size:"sm",className:"w-full flex items-center justify-center space-x-1",onClick:()=>X(s),children:[e.jsx(ce,{className:"h-3 w-3"}),e.jsx("span",{children:"Download"})]}),s.transferable&&e.jsxs(a,{variant:"outline",size:"sm",className:"w-full flex items-center justify-center space-x-1",onClick:()=>Y(s),children:[e.jsx(xe,{className:"h-3 w-3"}),e.jsx("span",{children:"Transfer"})]}),e.jsxs(a,{variant:"outline",size:"sm",className:"w-full flex items-center justify-center space-x-1",onClick:()=>{Q(s),D(s.price),f(!0)},children:[e.jsx(de,{className:"h-3 w-3"}),e.jsx("span",{children:"Resale"})]}),e.jsx(a,{variant:"outline",size:"sm",className:"w-full",children:"Need Help?"})]}),e.jsxs("div",{className:"flex items-center justify-end mt-2 gap-2",children:[e.jsx(b,{checked:G,onCheckedChange:_}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Blur sensitive details for sharing"})]})]})]},s.id))}),C.length===0&&e.jsx(l,{children:e.jsxs(r,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(w,{className:"h-16 w-16 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Active Tickets"}),e.jsx("p",{className:"text-muted-foreground mb-4 text-center",children:"Browse events to find something interesting!"}),e.jsx(a,{onClick:()=>x("browse"),children:"Browse Events"})]})})]}),e.jsx(u,{value:"badges",className:"space-y-6",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:k.map(s=>e.jsxs(l,{className:"flex flex-col",children:[e.jsxs(d,{className:"text-center pb-3",children:[e.jsx(O,{className:"h-10 w-10 mx-auto text-primary"}),e.jsx(o,{className:"text-lg truncate",children:s.eventTitle}),e.jsx(h,{className:"truncate",children:s.date})]}),e.jsxs(r,{className:"text-center",children:[e.jsx(y,{variant:s.rarity==="Rare"?"default":"secondary",className:"w-fit mx-auto",children:s.rarity}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:s.description})]})]},s.id))})}),e.jsx(u,{value:"history",className:"space-y-4",children:e.jsx("div",{className:"grid gap-4",children:c.map(s=>e.jsx(l,{children:e.jsxs(r,{className:"flex items-center justify-between p-4 sm:p-6 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4 min-w-0 flex-1",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary/20 to-secondary/20 rounded-lg flex items-center justify-center flex-none",children:e.jsx(w,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h4",{className:"font-semibold truncate whitespace-nowrap",children:s.eventTitle}),e.jsxs("p",{className:"text-sm text-muted-foreground truncate whitespace-nowrap",children:[s.date," • ",s.venue]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{variant:s.status==="attended"?"default":"secondary",children:s.status}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["$",s.price]})]})]})},s.id))})})]}),e.jsxs(u,{value:"gigs",className:"space-y-6",children:[e.jsxs(l,{children:[e.jsxs(d,{children:[e.jsx(o,{children:"GatePass Gigs — Work Any Event"}),e.jsx(h,{children:"Build your profile and apply to gigs"})]}),e.jsx(r,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Skills"}),e.jsx(n,{placeholder:"Security, photography, stage crew"}),e.jsx(i,{children:"Certifications"}),e.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-4 text-center",children:[e.jsx("input",{id:"cert-upload",type:"file",multiple:!0,className:"hidden"}),e.jsx("label",{htmlFor:"cert-upload",children:e.jsx(a,{variant:"outline",size:"sm",children:"Upload Licenses"})})]}),e.jsx(i,{children:"Portfolio"}),e.jsx(B,{placeholder:"Describe past event work"}),e.jsx(i,{children:"Hourly Rate"}),e.jsx(n,{type:"number",placeholder:"$25"}),e.jsx(i,{children:"ID Document"}),e.jsx(n,{type:"file"}),e.jsx(i,{children:"Selfie"}),e.jsx(n,{type:"file",accept:"image/*"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{}),e.jsx("span",{className:"text-sm",children:"Background Checked"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Availability"}),e.jsx(le,{mode:"single",className:"rounded-md border"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{defaultChecked:!0}),e.jsx("span",{className:"text-sm",children:"Instant Match enabled"})]})]})]})})]}),e.jsxs(l,{children:[e.jsxs(d,{children:[e.jsx(o,{children:"Job Board"}),e.jsx(h,{children:"Filter by event type, location, date, pay range"})]}),e.jsxs(r,{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[e.jsx(n,{placeholder:"Event type"}),e.jsx(n,{placeholder:"Location"}),e.jsx(n,{placeholder:"Date"}),e.jsx(n,{placeholder:"Min pay"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"No gigs posted yet"})]})]})]}),e.jsxs(u,{value:"community",className:"space-y-6",children:[e.jsxs(l,{children:[e.jsxs(d,{children:[e.jsx(o,{children:"Event Feed"}),e.jsx(h,{children:"Organizer updates and attendee stories"})]}),e.jsx(r,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Post Text"}),e.jsx(B,{placeholder:"Share an update..."}),e.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-4 text-center",children:[e.jsx("input",{id:"feed-image",type:"file",accept:"image/*",className:"hidden"}),e.jsx("label",{htmlFor:"feed-image",children:e.jsx(a,{variant:"outline",size:"sm",children:"Upload Image"})})]}),e.jsx(a,{children:"Post"})]}),e.jsx("div",{className:"space-y-2",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"No posts yet"})})]})})]}),e.jsxs(l,{children:[e.jsxs(d,{children:[e.jsx(o,{children:"Attendee Chat"}),e.jsx(h,{children:"Connect before and during the event"})]}),e.jsxs(r,{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[e.jsx(n,{placeholder:"Say hi..."}),e.jsx(a,{children:"Send"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"No messages yet"})]})]})]}),e.jsx(z,{open:U,onOpenChange:f,children:e.jsxs(H,{children:[e.jsxs(A,{children:[e.jsx(I,{children:"Resale Listing"}),e.jsx(ee,{children:"Set price and fee split"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(i,{children:"Price"}),e.jsx(n,{type:"number",value:S,onChange:s=>D(Number(s.target.value||0))})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Platform Fee (%)"}),e.jsx(n,{type:"number",value:M,onChange:s=>V(Number(s.target.value||0))})]}),e.jsx(a,{onClick:()=>{try{const s=JSON.parse(localStorage.getItem("gatepass_resale_listings")||"[]"),m=Array.isArray(s)?s:[];m.unshift({id:`resale-${Date.now()}`,ticketId:T?.id,event:T?.eventTitle,price:S,feePct:M}),localStorage.setItem("gatepass_resale_listings",JSON.stringify(m)),p.success("Listed for resale"),f(!1)}catch{p.error("Failed to save")}},children:"List"})]})]})}),e.jsx(z,{open:q,onOpenChange:P,children:e.jsxs(H,{children:[e.jsx(A,{children:e.jsx(I,{children:"Need Help?"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(a,{variant:N==="pre"?"default":"outline",size:"sm",onClick:()=>v("pre"),children:"Pre-Event"}),e.jsx(a,{variant:N==="during"?"default":"outline",size:"sm",onClick:()=>v("during"),children:"During Event"}),e.jsx(a,{variant:N==="post"?"default":"outline",size:"sm",onClick:()=>v("post"),children:"Post-Event"})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Describe your issue"}),e.jsx(n,{value:J,onChange:s=>W(s.target.value),placeholder:"How can we assist?"})]})]}),e.jsx(se,{children:e.jsx(a,{onClick:Z,children:"Submit"})})]})})]})}export{Me as AttendeeDashboard,Me as default};
